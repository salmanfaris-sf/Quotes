<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1K1TKBQFFK"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-1K1TKBQFFK')</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="theme-color" content="#000">
    <title>Dhikr Counter</title>
    <style>
        :root{--b:#000;--t:#fff;--s:#fff;--m:#1c1c1e;--instruction-bg:rgba(255,255,255,0.1)}*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}body,html{overscroll-behavior-y:contain;height:100vh;width:100vw;overflow:hidden;background:var(--b);color:var(--t);font-family:-apple-system,system-ui,sans-serif;cursor:pointer;user-select:none;touch-action:none;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center}.q4_z8{position:fixed;top:35px;left:25px;font-size:.75rem;letter-spacing:.15rem;text-transform:uppercase;font-weight:700;color:var(--s);z-index:5;transition:opacity .4s}.k9_w2{position:fixed;top:20px;right:20px;display:flex;gap:12px;z-index:10;transition:opacity .4s}.k9_w2 button{background:none;border:none;color:var(--s);padding:10px;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center}.j1_p0{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;pointer-events:none}.x5_v3{font-size:18vw;line-height:1;text-align:center;padding:0 10px;pointer-events:auto;outline:none;word-break:break-all;max-width:100%}.f7_r1{font-size:1rem;letter-spacing:.05rem;text-transform:uppercase;font-weight:700;color:var(--s);margin-top:25px;opacity:0;transition:opacity .8s ease-in-out}.f7_r1.v{opacity:1}.t2_y4{position:fixed;bottom:30px;left:0;width:100%;text-align:center;font-size:.75rem;letter-spacing:.01rem;text-transform:lowercase;color:var(--s);pointer-events:none;display:flex;justify-content:center;gap:10px;padding:0 20px;flex-wrap:wrap;font-weight:700;transition:opacity .4s}.t2_y4 span{background:var(--instruction-bg);padding:6px 12px;border-radius:8px;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}.m3_k6{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0);display:none;justify-content:center;align-items:center;z-index:20;pointer-events:none}.m3_k6.a{display:flex;background:rgba(0,0,0,.6);pointer-events:auto}.n8_m9{background:var(--m);padding:24px;border-radius:12px;width:85%;max-width:320px;box-shadow:0 20px 40px rgba(0,0,0,.5);transform:scale(.85);opacity:0;transition:transform .3s,opacity .3s}.a .n8_m9{transform:scale(1);opacity:1}.n8_m9 h2{font-size:1.1rem;margin-bottom:20px;color:var(--t)}.g5_h3{display:flex;justify-content:flex-end;gap:8px}.g5_h3 button{background:none;border:none;color:var(--s);font-size:.85rem;font-weight:700;padding:8px 12px;text-transform:uppercase}.h2_q1{position:fixed;top:60px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,.12);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);padding:12px 24px;border-radius:50px;font-size:.85rem;font-weight:500;opacity:0;transition:opacity .4s,top .4s;pointer-events:none;z-index:3000;color:var(--s);text-align:center;width:max-content;max-width:90vw}body.is-fullscreen .t2_y4,body.is-fullscreen .k9_w2,body.is-fullscreen .f7_r1,body.is-fullscreen .q4_z8{opacity:0!important;pointer-events:none}
    </style>
</head>
<body>
    <div class="q4_z8" id="ub">Counter</div>
    <div class="k9_w2" id="uh"><button id="fx"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg></button></div>
    <div id="tn" class="h2_q1"></div>
    <div class="j1_p0">
        <div id="dc" class="x5_v3" contenteditable="false" inputmode="numeric">0</div>
        <div id="mt" class="f7_r1 v">Tap anywhere to count</div>
    </div>
    <div id="iv" class="t2_y4"><span>swipe up: edit</span><span>swipe down: minus one</span><span>swipe left: reset</span><span>swipe right: thickness</span><span>long press: sound on/off</span></div>
    <div id="om" class="m3_k6"><div class="n8_m9"><h2>reset counter to 0?</h2><div class="g5_h3"><button onclick="cl('om')">Cancel</button><button style="color:#ff453a" onclick="rs()">Reset</button></div></div></div>
    <script>
    (function(){const d=document,w=window,u='_n_c',b='_n_b',s='_m_s',c=d.getElementById('dc'),f=d.getElementById('fx'),t=d.getElementById('tn'),m=d.getElementById('mt'),i=d.getElementById('iv'),ub=d.getElementById('ub'),uh=d.getElementById('uh');let n=parseInt(localStorage.getItem(u))||0,o=localStorage.getItem(b)==='true',p=localStorage.getItem(s)!=='false',ax=0,ay=0,lt=null,lp=0,et=null,nt=null;const ac=new(w.AudioContext||w.webkitAudioContext)();function r(){if(nt)clearTimeout(nt);m.classList.remove('v');nt=setTimeout(()=>{m.classList.add('v')},5000)}function pl(){if(p)return;if(ac.state==='suspended')ac.resume();const o=ac.createOscillator(),g=ac.createGain();o.type='square';o.frequency.setValueAtTime(2400,ac.currentTime);g.gain.setValueAtTime(0.1,ac.currentTime);g.gain.exponentialRampToValueAtTime(0.001,ac.currentTime+0.02);o.connect(g);g.connect(ac.destination);o.start();o.stop(ac.currentTime+0.02)}function up(){c.textContent=n.toLocaleString('en-US');c.style.fontWeight=o?'700':'100'}function sv(){localStorage.setItem(u,n);localStorage.setItem(b,o);localStorage.setItem(s,p)}w.addEventListener('visibilitychange',()=>{if(d.visibilityState==='hidden')sv()});function ed(x){x.contentEditable="true";x.focus();const r=d.createRange(),s=w.getSelection();r.selectNodeContents(x);r.collapse(!1);s.removeAllRanges();s.addRange(r)}w.cl=function(id){const x=d.getElementById(id);x.classList.remove('a');setTimeout(()=>x.style.display='none',300)};w.rs=function(){n=0;up();sv();cl('om')};function ts(m,d){if(et)clearTimeout(et);t.textContent=m;t.style.opacity=1;t.style.top='80px';et=setTimeout(()=>{t.style.opacity=0;t.style.top='60px';et=null},d)}d.body.addEventListener('touchstart',e=>{r();if(e.target.closest('.k9_w2')||e.target.closest('.n8_m9'))return;ax=e.touches[0].clientX;ay=e.touches[0].clientY;if(ac.state==='suspended')ac.resume();lt=setTimeout(()=>{p=!p;lp=1;if(navigator.vibrate)navigator.vibrate(50);ts(p?"tap sound off.":"tap sound on, increase volume to hear.",p?2000:5000)},800)});d.body.addEventListener('touchend',e=>{if(e.target.closest('.k9_w2')||e.target.closest('.n8_m9'))return;if(lt){clearTimeout(lt);lt=null}if(lp){lp=0;return}if(c.contentEditable==="true"){c.blur();return}if(d.querySelector('.m3_k6.a'))return;const dx=ax-e.changedTouches[0].clientX,dy=ay-e.changedTouches[0].clientY;if(Math.abs(dx)<10&&Math.abs(dy)<10){pl();n++;up()}else if(Math.abs(dx)>Math.abs(dy)){if(dx>50){if(navigator.vibrate)navigator.vibrate(60);const x=d.getElementById('om');x.style.display='flex';setTimeout(()=>x.classList.add('a'),10)}else if(dx<-50){o=!o;up()}}else{if(dy>50){setTimeout(()=>ed(c),50)}else if(dy<-50){if(n>0)n--;up()}}});f.onclick=e=>{e.stopPropagation();if(!d.fullscreenElement){d.documentElement.requestFullscreen().then(()=>d.body.classList.add('is-fullscreen'))}else{d.exitFullscreen().then(()=>d.body.classList.remove('is-fullscreen'))}};c.onblur=()=>{c.contentEditable="false";let v=c.textContent.replace(/[^\d]/g,'');n=v===''?0:parseInt(v);up();sv();r()};up();nt=setTimeout(()=>{m.classList.add('v')},0)})()
    </script>
</body>
</html>

