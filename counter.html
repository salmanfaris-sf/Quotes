<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"><meta name="theme-color" content="#000"><title>Dhikr Counter</title><style>:root{--b:#000;--t:#fff;--s:#fff;--m:rgba(15,15,15,0.85);--accent:#34c759;--danger:#ff453a;--warning:#ff9500}*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}body,html{overscroll-behavior-y:contain;height:100vh;width:100vw;overflow:hidden;background:var(--b);color:var(--t);font-family:-apple-system,system-ui,sans-serif;cursor:pointer;user-select:none;touch-action:none;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center}.q4_z8{position:fixed;top:35px;left:25px;font-size:.75rem;letter-spacing:.15rem;text-transform:uppercase;font-weight:700;color:var(--s);z-index:15;transition:opacity .4s;padding:10px;margin:-10px;pointer-events:auto}.k9_w2{position:fixed;top:20px;right:20px;display:flex;gap:12px;z-index:10;transition:opacity .4s}.k9_w2 button{background:none;border:none;color:var(--s);padding:10px;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center}.j1_p0{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;pointer-events:none;position:relative}.progress-container{position:absolute;width:80vw;height:80vw;max-width:400px;max-height:400px;pointer-events:none;display:none}.progress-container.active{display:block}.progress-ring{transform:rotate(-90deg)}.progress-ring__circle{transition:stroke-dashoffset .35s;transform-origin:50% 50%;stroke:var(--accent);opacity:.3}#info-bar{font-size:.7rem;opacity:.5;letter-spacing:.1rem;text-transform:uppercase;font-weight:600;margin-bottom:10px;display:flex;gap:15px;z-index:5}.info-item{display:none}.info-item.visible{display:inline-block}.x5_v3{font-size:18vw;line-height:1;text-align:center;padding:0 10px;pointer-events:auto;outline:none;word-break:break-all;max-width:100%;z-index:5}.f7_r1{font-size:1rem;letter-spacing:.05rem;text-transform:uppercase;font-weight:400;color:var(--s);margin-top:25px;opacity:0;transition:opacity .8s ease-in-out;z-index:5}.f7_r1.v{opacity:1}.t2_y4{position:fixed;bottom:30px;left:0;width:100%;text-align:center;font-size:.65rem;letter-spacing:.01rem;text-transform:lowercase;color:var(--s);pointer-events:none;display:flex;justify-content:center;gap:8px;padding:0 20px;flex-wrap:wrap;font-weight:400;transition:opacity .4s;z-index:5}.t2_y4 span{background:var(--m);padding:6px 10px;border-radius:0;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:none}.h2_q1{background:var(--m);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);position:fixed;top:60px;left:50%;transform:translateX(-50%);padding:0;font-size:.8rem;font-weight:500;opacity:0;transition:opacity .4s,top .4s;pointer-events:none;z-index:3000;color:var(--s);display:flex;align-items:stretch;overflow:hidden;width:max-content;max-width:85vw;border-radius:50px}.h2_q1.active{pointer-events:auto}.h2_q1 span{display:flex;align-items:center;padding:10px 20px;white-space:nowrap}.h2_q1 button{background:rgba(255,255,255,0.05);border:none;color:#fff;padding:0 16px;font-size:0.65rem;font-weight:800;text-transform:uppercase;letter-spacing:0.05rem;transition:background 0.2s;border-left:1px solid rgba(255,255,255,0.1);cursor:pointer;display:none}body.is-fullscreen .t2_y4,body.is-fullscreen .k9_w2,body.is-fullscreen .f7_r1,body.is-fullscreen .q4_z8{opacity:0!important;pointer-events:none!important}</style></head><body oncontextmenu="return!1"><div class="q4_z8" id="ub"><span>Counter</span></div><div class="k9_w2" id="uh"><button id="fx"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg></button></div><div id="tn" class="h2_q1"><span id="tn-text"></span><button id="tn-btn">turn off</button></div><div class="j1_p0"><div id="progress-container" class="progress-container"><svg class="progress-ring" width="100%" height="100%" viewBox="0 0 100 100"><circle class="progress-ring__circle" stroke-width="2" fill="transparent" r="48" cx="50" cy="50"/></svg></div><div id="info-bar"><span id="step-display" class="info-item"></span><span id="goal-display" class="info-item"></span></div><div id="dc" class="x5_v3" contenteditable="false" inputmode="numeric">0</div><div id="mt" class="f7_r1 v">Tap anywhere to count</div></div><div id="iv" class="t2_y4"><span>swipe up: edit</span><span>swipe left: reset</span><span>swipe down: minus</span><span>swipe right: increment</span><span>tap "counter" to set goal</span><span>long press for tap sound</span></div><script>(function(){document.onkeydown=function(e){if(e.keyCode==123||(e.ctrlKey&&e.shiftKey&&(e.keyCode==73||e.keyCode==74||e.keyCode==67))||(e.ctrlKey&&e.keyCode==85))return!1};const _a=document,_b=window,_k={c:'_n_c',b:'_n_b',s:'_m_s',t:'_n_step',g:'_n_goal'};const _f=_a.getElementById('dc'),_g=_a.getElementById('fx'),_h=_a.getElementById('tn'),_i=_a.getElementById('mt'),_ht=_a.getElementById('tn-text'),_hb=_a.getElementById('tn-btn'),_sd=_a.getElementById('step-display'),_gd=_a.getElementById('goal-display'),_ub=_a.getElementById('ub'),_pc=_a.getElementById('progress-container'),_rg=_a.querySelector('.progress-ring__circle');let _v=parseInt(localStorage.getItem(_k.c))||0,_st=parseInt(localStorage.getItem(_k.t))||1,_gl=parseInt(localStorage.getItem(_k.g))||0,_bd=localStorage.getItem(_k.b)==='true',_sn=localStorage.getItem(_k.s)!=='false',_nx=0,_ny=0,_pt=null,_qf=0,_rt=null,_stt=null;const _ac=new(_b.AudioContext||_b.webkitAudioContext)(),_rd=_rg.r.baseVal.value,_cr=_rd*2*Math.PI;_rg.style.strokeDasharray=`${_cr} ${_cr}`;function _u(){if(_stt)clearTimeout(_stt);_i.classList.remove('v');_stt=setTimeout(()=>{_i.classList.add('v')},5e3)}function _p(){if(_sn)return;if(_ac.state==='suspended')_ac.resume();const o=_ac.createOscillator(),g=_ac.createGain();o.type='square';o.frequency.setValueAtTime(2400,_ac.currentTime);g.gain.setValueAtTime(.05,_ac.currentTime);g.gain.exponentialRampToValueAtTime(.001,_ac.currentTime+.02);o.connect(g);g.connect(_ac.destination);o.start();o.stop(_ac.currentTime+.02)}function _up(){if(_gl>0){_pc.classList.add('active');const o=_cr-(Math.min(_v,_gl)/_gl)*_cr;_rg.style.strokeDashoffset=o;_rg.style.opacity=_v>=_gl?"1":".3";_rg.style.stroke=_v>=_gl?"var(--accent)":"#fff"}else{_pc.classList.remove('active')}}function _w(){_f.textContent=_v.toLocaleString('en-US');_f.style.fontWeight=_bd?'700':'100';if(_st>1){_sd.textContent='Increment: '+_st;_sd.classList.add('visible')}else{_sd.classList.remove('visible')}if(_gl>0){_gd.textContent='Goal: '+_gl.toLocaleString('en-US');_gd.classList.add('visible')}else{_gd.classList.remove('visible')}_up()}function _x(){localStorage.setItem(_k.c,_v);localStorage.setItem(_k.b,_bd);localStorage.setItem(_k.s,_sn);localStorage.setItem(_k.t,_st);localStorage.setItem(_k.g,_gl)}function _z(m,d,s=false){if(_rt)clearTimeout(_rt);_ht.textContent=m;_hb.style.display=s?'inline-block':'none';_h.classList.add('active');_h.style.opacity=1;_h.style.top='80px';if(s)d=8e3;_rt=setTimeout(()=>{_h.style.opacity=0;_h.style.top='60px';setTimeout(()=>_h.classList.remove('active'),400);_rt=null},d)}_hb.onclick=e=>{e.stopPropagation();_gl=0;_w();_x();_z("goal removed",2e3)};_ub.onclick=e=>{e.stopPropagation();const v=prompt("Set Target Goal (current: "+(_gl||'none')+"). Enter 0 to remove.",_gl||"");if(v!==null){const n=parseInt(v);if(!isNaN(n)&&n>=0){_gl=n;_z(_gl>0?`goal set to ${_gl}`:"goal removed",2e3);_w();_x()}}};_a.body.addEventListener('touchstart',e=>{_u();if(e.target.closest('.k9_w2')||e.target.closest('.q4_z8')||e.target.closest('.h2_q1'))return;_nx=e.touches[0].clientX;_ny=e.touches[0].clientY;if(_ac.state==='suspended')_ac.resume();_pt=setTimeout(()=>{_sn=!_sn;_qf=1;if(navigator.vibrate)navigator.vibrate(50);_z(_sn?"tap sound off":"tap sound on (increase device volume)",2e3)},800)});_a.body.addEventListener('touchend',e=>{if(e.target.closest('.k9_w2')||e.target.closest('.q4_z8')||e.target.closest('.h2_q1'))return;if(_pt){clearTimeout(_pt);_pt=null}if(_qf){_qf=0;return}if(_f.contentEditable==="true"){_f.blur();return}const dx=_nx-e.changedTouches[0].clientX,dy=_ny-e.changedTouches[0].clientY;if(Math.abs(dx)<10&&Math.abs(dy)<10){_p();const p=_v;_v+=_st;if(_gl>0&&p<_gl&&_v>=_gl){if(navigator.vibrate)navigator.vibrate([300,150,300]);_z("goal reached!",6e3,true)}_w()}else if(Math.abs(dx)>Math.abs(dy)){if(dx>50){if(confirm("Reset counter to 0?")){if(navigator.vibrate)navigator.vibrate(40);_v=0;_w();_x();_z("counter reset",2e3)}}else if(dx<-50){const v=prompt("Set Increment (current: "+_st+")",_st);if(v!==null){const n=parseInt(v);_st=(!isNaN(n)&&n>0)?n:1;_z(`increment set to ${_st}`,2e3);_w();_x()}}}else{if(dy>50){_f.contentEditable="true";_f.focus();const r=_a.createRange(),s=_b.getSelection();r.selectNodeContents(_f);r.collapse(!1);s.removeAllRanges();s.addRange(r)}else if(dy<-50){if(_v>0){if(confirm(`Subtract ${_st} from counter?`)){if(navigator.vibrate)navigator.vibrate(40);_v=(_v>=_st)?_v-_st:0;_w();_x();_z("number subtracted",2e3)}}}}});_g.onclick=e=>{e.stopPropagation();if(!_a.fullscreenElement){_a.documentElement.requestFullscreen().catch(()=>{})}else{_a.exitFullscreen().catch(()=>{})}};_a.addEventListener('fullscreenchange',()=>{_a.body.classList.toggle('is-fullscreen',!!_a.fullscreenElement)});_f.onblur=()=>{_f.contentEditable="false";let v=_f.textContent.replace(/[^\d]/g,'');_v=v===''?0:parseInt(v);_w();_x();_u()};_w();_stt=setTimeout(()=>{_i.classList.add('v')},0)})()</script></body></html>

